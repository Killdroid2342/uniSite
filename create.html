<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="img/members.png">
    <link rel="stylesheet" href="index.css">
    <title>Create</title>

    <script src="cdn/html2canvas.min.js"></script>

</head>

<body class="otherPagesBackground">

    <img src="img/arrow.png" alt="" class="backImg" id="backImgID">


    <div class="panel" id="createPanel">
        <div class="imageEditContent">
            <div class="saveDiv">
                <button class="saveImage">Save</button>
            </div>

            <div class="imageCreateDiv" id="imageCreateDiv">
                <img src="img/transparentImpactSBCCCopy.png" alt="" class="impactLogoEdit">
                <div class="underCreateSquaresDiv">
                    <div class="underCreateSquares" id="firstBox"></div>
                    <div class="underCreateSquares" id="secondBox"></div>
                    <div class="underCreateSquares" id="thirdBox"></div>
                    <div class="underCreateSquares" id="fourthBox"></div>
                    <div class="underCreateSquares" id="fifthBox"></div>
                </div>

            </div>
            <div class="createInstructions">
                <p class="createText">1. Click on a color</p>
                <p class="createText">2. Color a box on the logo</p>
                <p class="createText">3. Save image</p>
            </div>
            <div class="positionColBtns">
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createBlack" style="background:#FFC2E0;"></div>
                    <div class="colorChangeBTN" id="createWhite" style="background:#FF99CC;"></div>
                    <div class="colorChangeBTN" id="createRed" style="background:#FF66B2;"></div>
                    <div class="colorChangeBTN" id="createLime" style="background:#FF3399;"></div>
                    <div class="colorChangeBTN" id="createBlue" style="background:#E60073;"></div>
                    <div class="colorChangeBTN" id="createYellow" style="background:#B30059;"></div>
                </div>
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createMagenta" style="background:#E6F0FF;"></div>
                    <div class="colorChangeBTN" id="createCyan" style="background:#B3D1FF;"></div>
                    <div class="colorChangeBTN" id="createMaroon" style="background:#80B3FF;"></div>
                    <div class="colorChangeBTN" id="createOlive" style="background:#4D94FF;"></div>
                    <div class="colorChangeBTN" id="createGreen" style="background:#0066FF;"></div>
                    <div class="colorChangeBTN" id="createPurple" style="background:#0047B3;"></div>
                </div>
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createTeal" style="background:#E6F9E6;"></div>
                    <div class="colorChangeBTN" id="createNavy" style="background:#B3E6B3;"></div>
                    <div class="colorChangeBTN" id="createSilver" style="background:#80D480;"></div>
                    <div class="colorChangeBTN" id="createGray" style="background:#4DB34D;"></div>
                    <div class="colorChangeBTN" id="createOrange" style="background:#008000;"></div>
                    <div class="colorChangeBTN" id="createBrown" style="background:#004D00;"></div>
                </div>
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createDarkRed" style="background:#FFF9E6;"></div>
                    <div class="colorChangeBTN" id="createGold" style="background:#FFEBB3;"></div>
                    <div class="colorChangeBTN" id="createGoldenrod" style="background:#FFDD80;"></div>
                    <div class="colorChangeBTN" id="createKhaki" style="background:#FFCC4D;"></div>
                    <div class="colorChangeBTN" id="createGreenYellow" style="background:#E6B800;"></div>
                    <div class="colorChangeBTN" id="createChartreuse" style="background:#B38F00;"></div>
                </div>
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createLimeGreen" style="background: #FFF0E6;"></div>
                    <div class="colorChangeBTN" id="createLightSeaGreen" style="background:#FFD1B3;"></div>
                    <div class="colorChangeBTN" id="createCadetBlue" style="background:#FFB380;"></div>
                    <div class="colorChangeBTN" id="createSteelBlue" style="background: #FF944D;"></div>
                    <div class="colorChangeBTN" id="createRoyalBlue" style="background:#FF6600;"></div>
                    <div class="colorChangeBTN" id="createSlateBlue" style="background:#B34700;"></div>
                </div>
                <div class="positionRowBtns">
                    <div class="colorChangeBTN" id="createIndigo" style="background:#F2E6FF;"></div>
                    <div class="colorChangeBTN" id="createDarkOrchid" style="background:#D1B3FF;"></div>
                    <div class="colorChangeBTN" id="createDarkMagenta" style="background:#B380FF;"></div>
                    <div class="colorChangeBTN" id="createDeepPink" style="background:#944DFF;"></div>
                    <div class="colorChangeBTN" id="createHotPink" style="background:#6600CC;"></div>
                    <div class="colorChangeBTN" id="createTurquoise" style="background:#470099;"></div>

                </div>
            </div>

        </div>
        <script>
            let selectedColor = '#FFFFFF'

            const boxes = document.querySelectorAll('.underCreateSquares')
            const colorButtons = document.querySelectorAll('.colorChangeBTN')

            colorButtons.forEach(button => {
                button.addEventListener('click', function () {
                    selectedColor = this.style.backgroundColor
                    console.log("Selected:", selectedColor)
                })
            })


            boxes.forEach(box => {
                box.addEventListener('click', function () {
                    this.style.backgroundColor = selectedColor
                })
            })

            const backImgID = document.getElementById('backImgID')
            backImgID.addEventListener('click', function () {
                window.location.href = "index.html";

            })
            const saveBtn = document.querySelector('.saveImage');
            saveBtn.addEventListener('click', function () {
                const targetDiv = document.getElementById('imageCreateDiv');

                html2canvas(targetDiv, {
                    backgroundColor: null,
                }).then(canvas => {
                    let link = document.createElement('a');
                    link.download = 'my_creation.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                });
            });
        </script>
</body>

</html>